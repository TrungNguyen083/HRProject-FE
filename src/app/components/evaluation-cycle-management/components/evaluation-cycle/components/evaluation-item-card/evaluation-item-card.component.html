<div class="flex justify-between items-center p-8 rounded-lg evaluation-card w-full hover:shadow-md">

  <div class="flex flex-col gap-2">
    <div class="flex gap-4 items-center font-bold">
      <div class="text-2xl"><i class="pi pi-file text-2xl"></i></div>
      <p class="text-2xl">{{ cycleOverall.name }}</p>
    </div>

    <div class="flex gap-2 items-center">
      <span class="font-bold">Status</span>
      <span class="evaluation-status-tag inline-flex items-center rounded-md px-3 py-1 text-sm font-medium ring-1 ring-inset" [ngClass]="{
          'text-primary ring-primaryLight1': cycleOverall.status === 'Completed',
          'text-yellow-800 ring-yellow-600/20': cycleOverall.status === 'In Progress'
        }">
        {{ cycleOverall.status }}
      </span>
    </div>

    <div class="flex gap-2 items-center">
      <span class="font-bold">Period</span>
      <span>{{ cycleOverall.startDate | date: 'dd/MM/yyyy'}} - {{ cycleOverall.dueDate | date: 'dd/MM/yyyy'}}</span>
    </div>
  </div>

  <div class="flex items-center">

    <div class="relative md:mt-8 lg:mt-0">
      <hrms-chart id="completion-progress" type="doughnut" [data]="donutData" [options]="donutOptions" [height]="'150'">
      </hrms-chart>
      <div class="completion-percentage">
        <span class="font-bold text-primary text-sm">
          {{ completionPercentage !== undefined ? completionPercentage.toFixed(1) + '%' : '0%' }}
        </span>
      </div>
    </div>

    <div class="flex flex-col gap-4 lg:mt-0 h-full">
      <div>
        <p class="completion-status font-bold text-primary text-center">Competency</p>
      </div>
      <div class="item-end">
        <hrms-chart id="competency" type="pie" [data]="pieData" [options]="pieOptions" [height]="'115'">
        </hrms-chart>
      </div>
    </div>

    <div class="flex flex-col gap-4 lg:mt-0 h-full">
      <div>
        <p class="completion-status font-bold text-primary text-center">Performance</p>
      </div>
      <div class="item-end">
        <hrms-chart id="performance" type="pie" [data]="piePerData" [options]="piePerOptions" [height]="'115'">
        </hrms-chart>
      </div>
    </div>


  </div>
</div>

<ng-template #completionStatus let-label="label" let-value="value">
  <div class="flex-1 p-6 bg-primaryLight rounded-md completion-status-box">
    <p class="text-danger text-center font-medium text-xl">{{ value }}%</p>
    <p class="font-bold text-center">{{ label }}</p>
  </div>
</ng-template>